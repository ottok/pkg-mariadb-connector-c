Description: Make the library install path configurable
 The upstream sources unconditionally install to
 CMAKE_INSTALL_PREFIX/lib/mariadb, whereas we want to install to
 /usr/lib/$(DEB_HOST_MULTIARCH).  This patch creates a new option
 LIB_INSTALL_DIR for the installation directory which debian/rules then sets
 accordingly.
Author: Daniel Schepler <schepler@debian.org>
Forwarded: https://lists.launchpad.net/maria-developers/msg07924.html

Index: mariadb-client-lgpl/cmake/install.cmake
===================================================================
--- mariadb-client-lgpl.orig/cmake/install.cmake
+++ mariadb-client-lgpl/cmake/install.cmake
@@ -24,6 +24,9 @@
 # - RPM
 # Built with default prefix=/usr
 #
+# - DEB
+# Install library to lib/ instead of lib/mariadb/
+#
 #
 # The following va+riables are used and can be overwritten
 # 
@@ -39,13 +42,13 @@ IF(NOT INSTALL_LAYOUT)
 ENDIF()
 
 SET(INSTALL_LAYOUT ${INSTALL_LAYOUT} CACHE
-  STRING "Installation layout. Currently supported options are DEFAULT (tar.gz and zip) and RPM")
+  STRING "Installation layout. Currently supported options are DEFAULT (tar.gz and zip), RPM and DEB")
 
 # On Windows we only provide zip and .msi. Latter one uses a different packager. 
 IF(UNIX)
   IF(INSTALL_LAYOUT MATCHES "RPM")
     SET(libmariadb_prefix "/usr")
-  ELSEIF(INSTALL_LAYOUT MATCHES "DEFAULT")
+  ELSEIF(INSTALL_LAYOUT MATCHES "DEFAULT|DEB")
     SET(libmariadb_prefix ${CMAKE_INSTALL_PREFIX})
   ENDIF()
 ENDIF()
@@ -55,7 +58,7 @@ IF(CMAKE_DEFAULT_PREFIX_INITIALIZED_BY_D
 ENDIF()
 
 # check if the specified installation layout is valid
-SET(VALID_INSTALL_LAYOUTS "DEFAULT" "RPM")
+SET(VALID_INSTALL_LAYOUTS "DEFAULT" "RPM" "DEB")
 LIST(FIND VALID_INSTALL_LAYOUTS "${INSTALL_LAYOUT}" layout_no)
 IF(layout_no EQUAL -1)
   MESSAGE(FATAL_ERROR "Invalid installation layout. Please specify one of the following layouts: ${VALID_INSTALL_LAYOUTS}")
@@ -96,6 +99,17 @@ SET(DOCS_INSTALL_DIR_RPM "docs")
 SET(PLUGIN_INSTALL_DIR_RPM "lib/plugin")
 
 #
+# DEB layout
+#
+set(SUFFIX_INSTALL_DIR_DEB ${CMAKE_LIBRARY_ARCHITECTURE})
+set(BIN_INSTALL_DIR_DEB "bin")
+set(LIB_INSTALL_DIR_DEB "lib")
+set(PLUGIN_INSTALL_DIRDIR_DEB "lib/plugin")
+set(INCLUDE_INSTALL_DIR_DEB "include")
+set(DOCS_INSTALL_DIR_DEB "doc")
+set(PLUGIN_INSTALL_DIR_DEB "lib/plugin")
+
+#
 # Overwrite defaults
 #
 IF(LIB_INSTALL_DIR)
